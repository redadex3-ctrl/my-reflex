<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de RÃ©flexes - Mesurez votre Vitesse de RÃ©action (ms)</title>
    <meta name="description" content="Testez votre temps de rÃ©action. Benchmark gratuit dÃ©veloppÃ© par Mohamed Reda El Kalai.">

    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='32' r='32' fill='%231e293b'/%3E%3Cpath d='M38 4L16 34h14l-6 26 24-30H34z' fill='%23fbbf24' stroke='%23ffffff' stroke-width='2'/%3E%3C/svg%3E">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">

    <style>
        /* === STYLE ORIGINAL INCHANGÃ‰ === */
        :root {
            --bg-body: #0f172a;
            --bg-card: #1e293b;
            --accent: #6366f1;
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --border-color: rgba(255,255,255,0.08);
            --color-wait: #ef4444;
            --color-go: #22c55e;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        .site-header {
            width: 100%;
            background-color: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(12px);
            padding: 15px 30px;
            box-sizing: border-box;
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .logo-container {
            display: flex;
            align-items: center;
            font-size: 1.2rem;
            font-weight: 900;
        }

        .ad-space {
            width: 100%;
            display: flex;
            justify-content: center;
            padding: 20px 0;
            min-height: 100px;
        }

        .main-container {
            width: 100%;
            max-width: 800px;
            padding: 20px;
            box-sizing: border-box;
            flex: 1;
        }

        #game-area {
            width: 100%;
            height: 420px;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            text-align: center;
            user-select: none;
            border: 1px solid var(--border-color);
        }

        .state-start { background: var(--bg-card); }
        .state-waiting { background-color: var(--color-wait); }
        .state-ready { background-color: var(--color-go); }

        h1 { font-size: 3rem; margin: 0; }

        .subtitle { color: var(--text-muted); }

        .space-key-icon {
            background: rgba(255,255,255,0.1);
            padding: 2px 10px;
            border-radius: 6px;
            font-weight: 700;
        }

        #result-modal {
            position: fixed;
            inset: 0;
            background: rgba(15,23,42,0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
        }

        #result-modal.visible {
            opacity: 1;
            pointer-events: all;
        }

        .result-card {
            background: var(--bg-card);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
        }
    </style>
</head>

<body>

<header class="site-header">
    <div class="logo-container">ðŸ§ âš¡ MY REFLEX</div>
</header>

<!-- PUB SUPPRIMÃ‰E MAIS ESPACE CONSERVÃ‰ -->
<div class="ad-space"></div>

<div class="main-container">
    <div id="game-area" class="state-start" onclick="handleGameClick()">
        <h1 id="main-text">Start Test</h1>
        <p class="subtitle" id="sub-text">
            Appuyez sur <span class="space-key-icon">Space</span> ou Cliquez
        </p>
    </div>
</div>

<div id="result-modal">
    <div class="result-card">
        <div id="score-display">0 ms</div>
        <button onclick="resetGame()">Rejouer</button>
    </div>
</div>

<script>
    /* === JS ORIGINAL INCHANGÃ‰ === */
    const gameArea = document.getElementById('game-area');
    const mainText = document.getElementById('main-text');
    const subText = document.getElementById('sub-text');
    const modal = document.getElementById('result-modal');

    let startTime, gameState = 'start';

    document.addEventListener('keydown', e => {
        if (e.code === 'Space') {
            e.preventDefault();
            handleGameClick();
        }
    });

    function handleGameClick() {
        if (gameState === 'start') startGame();
        else if (gameState === 'ready') finishGame();
    }

    function startGame() {
        gameState = 'waiting';
        gameArea.className = 'state-waiting';
        mainText.innerText = 'Attendez...';

        setTimeout(() => {
            gameState = 'ready';
            gameArea.className = 'state-ready';
            mainText.innerText = 'CLIQUEZ !';
            startTime = Date.now();
        }, Math.random() * 3000 + 2000);
    }

    function finishGame() {
        const time = Date.now() - startTime;
        document.getElementById('score-display').innerText = time + ' ms';
        modal.classList.add('visible');
    }

    function resetGame() {
        modal.classList.remove('visible');
        gameState = 'start';
        gameArea.className = 'state-start';
        mainText.innerText = 'Start Test';
    }
</script>

</body>
</html>
