<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Test de RÃ©flexes - MyReflex</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">

<style>
/* ====== STYLE ====== */
:root {
    --bg-body:#0f172a;
    --bg-card:#1e293b;
    --accent:#6366f1;
    --text-main:#f8fafc;
    --text-muted:#94a3b8;
    --border:rgba(255,255,255,.08);
    --wait:#ef4444;
    --go:#22c55e;
}
body{
    margin:0;
    font-family:Inter,sans-serif;
    background:var(--bg-body);
    color:var(--text-main);
    display:flex;
    flex-direction:column;
    min-height:100vh;
}
.site-header{
    padding:15px 30px;
    border-bottom:1px solid var(--border);
    background:rgba(15,23,42,.8);
    backdrop-filter:blur(10px);
}
.logo-container{
    font-weight:900;
    font-size:1.2rem;
}
.main-container{
    max-width:800px;
    margin:auto;
    padding:20px;
}
#game-area{
    height:420px;
    border-radius:20px;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    cursor:pointer;
    border:1px solid var(--border);
    user-select:none;
}
.state-start{background:var(--bg-card)}
.state-waiting{background:var(--wait)}
.state-ready{background:var(--go)}
h1{font-size:3rem;margin:0}
.subtitle{color:var(--text-muted)}
.space-key{
    background:rgba(255,255,255,.1);
    padding:4px 10px;
    border-radius:6px;
    font-weight:700;
}
.history-section{
    margin-top:30px;
    background:var(--bg-card);
    padding:20px;
    border-radius:16px;
}
.history-list{
    display:flex;
    gap:10px;
}
.history-item{
    background:rgba(255,255,255,.05);
    padding:10px 20px;
    border-radius:10px;
}
.best{
    border:1px solid var(--accent);
    color:var(--accent);
}
#result-modal{
    position:fixed;
    inset:0;
    background:rgba(15,23,42,.95);
    display:flex;
    justify-content:center;
    align-items:center;
    opacity:0;
    pointer-events:none;
}
#result-modal.visible{
    opacity:1;
    pointer-events:auto;
}
.result-card{
    background:var(--bg-card);
    padding:30px;
    border-radius:20px;
    text-align:center;
    width:90%;
    max-width:420px;
}
.btn{
    background:var(--accent);
    border:none;
    padding:14px;
    width:100%;
    color:white;
    font-weight:700;
    border-radius:10px;
    cursor:pointer;
}
</style>
</head>

<body>

<header class="site-header">
    <div class="logo-container">ðŸ§ âš¡ MY REFLEX</div>
</header>

<div class="main-container">

    <div id="game-area" class="state-start" onclick="handleClick()">
        <h1 id="text">Start</h1>
        <p class="subtitle" id="sub">Appuie sur <span class="space-key">Space</span></p>
    </div>

    <div class="history-section">
        <h3>Derniers scores</h3>
        <div class="history-list" id="history">
            <div class="history-item">--</div>
        </div>
    </div>

</div>

<div id="result-modal">
    <div class="result-card">
        <h2 id="score">0 ms</h2>
        <p id="rank"></p>
        <button class="btn" onclick="reset()">Rejouer</button>
    </div>
</div>

<script>
let state="start",startTime,scores=[];
const game=document.getElementById("game-area");
const text=document.getElementById("text");
const sub=document.getElementById("sub");
const modal=document.getElementById("result-modal");

document.addEventListener("keydown",e=>{
    if(e.code==="Space"){e.preventDefault();handleClick();}
});

function handleClick(){
    if(state==="start") start();
    else if(state==="ready") finish();
}

function start(){
    state="waiting";
    game.className="state-waiting";
    text.textContent="Attends...";
    sub.textContent="";
    setTimeout(()=>{
        state="ready";
        game.className="state-ready";
        text.textContent="CLIQUE !";
        startTime=Date.now();
    },Math.random()*3000+2000);
}

function finish(){
    const t=Date.now()-startTime;
    scores.unshift(t); if(scores.length>5) scores.pop();
    document.getElementById("score").textContent=t+" ms";
    document.getElementById("rank").textContent=t<200?"ðŸ”¥ Excellent":"ðŸ™‚ Bien";
    updateHistory();
    modal.classList.add("visible");
}

function updateHistory(){
    const h=document.getElementById("history");
    h.innerHTML="";
    const best=Math.min(...scores);
    scores.forEach(s=>{
        const d=document.createElement("div");
        d.className="history-item"+(s===best?" best":"");
        d.textContent=s+" ms";
        h.appendChild(d);
    });
}

function reset(){
    modal.classList.remove("visible");
    state="start";
    game.className="state-start";
    text.textContent="Start";
    sub.innerHTML='Appuie sur <span class="space-key">Space</span>';
}
</script>

</body>
</html>
